<?xml version="1.0" encoding="UTF-8"?>
<schemalist>
  <schema id="org.gnome.shell.extensions.zoned" path="/org/gnome/shell/extensions/zoned/">
    
    <!-- State persistence -->
    <key name="current-layout-id" type="s">
      <default>"halves"</default>
      <summary>Current active layout ID</summary>
      <description>
        The ID of the currently active window layout layout.
      </description>
    </key>
    
    <key name="current-zone-index" type="i">
      <default>0</default>
      <summary>Current zone index</summary>
      <description>
        The index of the currently active zone within the current layout (0-based).
      </description>
    </key>
    
    <!-- Keybindings -->
    <key name="cycle-zone-left" type="as">
      <default>['&lt;Super&gt;Left']</default>
      <summary>Cycle to previous zone</summary>
      <description>
        Move the focused window to the previous zone in the current layout.
      </description>
    </key>
    
    <key name="cycle-zone-right" type="as">
      <default>['&lt;Super&gt;Right']</default>
      <summary>Cycle to next zone</summary>
      <description>
        Move the focused window to the next zone in the current layout.
      </description>
    </key>
    
    <key name="show-layout-picker" type="as">
      <default>['&lt;Super&gt;grave']</default>
      <summary>Open layout picker</summary>
      <description>
        Display the layout selection dialog.
      </description>
    </key>
    
    <!-- Enhanced Windows Management (optional feature) -->
    <key name="enhanced-window-management-enabled" type="b">
      <default>true</default>
      <summary>Enable enhanced window management</summary>
      <description>
        When enabled, adds Windows-like minimize/maximize shortcuts (Super+Down/Up).
        Super+Down minimizes a window; pressing again restores it.
        Super+Up restores a minimized window, or toggles maximize on normal windows.
      </description>
    </key>
    
    <key name="minimize-window" type="as">
      <default>['&lt;Super&gt;Down']</default>
      <summary>Minimize or restore window</summary>
      <description>
        Minimize the focused window. If pressed again while the same window is 
        minimized, restore it. Requires enhanced-window-management-enabled.
      </description>
    </key>
    
    <key name="maximize-window" type="as">
      <default>['&lt;Super&gt;Up']</default>
      <summary>Restore or toggle maximize</summary>
      <description>
        If a window was minimized with Super+Down, restore it. Otherwise, toggle 
        between maximized and floating state. Requires enhanced-window-management-enabled.
      </description>
    </key>
    
    <!-- Layout Picker Settings -->
    <key name="layout-picker-size" type="d">
      <default>0.8</default>
      <range min="0.3" max="0.9"/>
      <summary>Layout picker dialog size</summary>
      <description>
        Size of the layout picker dialog as a fraction of screen size (0.3-0.9). Default is 0.8 (80%).
      </description>
    </key>
    
    <!-- Layout Management Settings -->
    <key name="layout-order" type="as">
      <default>[]</default>
      <summary>Custom layout order</summary>
      <description>
        Array of layout IDs in custom display order. Empty array means use natural order.
      </description>
    </key>
    
    <!-- UI Theme Preference -->
    <key name="ui-theme" type="s">
      <default>"system"</default>
      <summary>UI color theme preference</summary>
      <description>
        Color scheme for extension UI dialogs. Options: 'system' (follows GNOME color-scheme), 
        'light' (force light mode), 'dark' (force dark mode). Default is 'system'.
      </description>
    </key>
    
    <!-- Workspace-specific layouts -->
    <key name="use-per-workspace-layouts" type="b">
      <default>false</default>
      <summary>Use different layouts per workspace</summary>
      <description>
        When enabled, each workspace can have its own layout. When disabled, 
        the layout applies globally to all workspaces.
      </description>
    </key>
    
    <key name="workspace-layout-map" type="s">
      <default>"{}"</default>
      <summary>Workspace to layout mapping (deprecated)</summary>
      <description>
        DEPRECATED: Migrated to spatial-state-map on first load.
        JSON object mapping workspace indices to layout IDs. 
        Example: {"0": "layout-halves", "1": "layout-code"}
      </description>
    </key>
    
    <!-- Spatial state (per-space layouts) -->
    <key name="spatial-state-map" type="s">
      <default>"{}"</default>
      <summary>Per-space layout state</summary>
      <description>
        JSON mapping "connector:workspace" to {layoutId, zoneIndex}.
        Example: {"DP-1:0": {"layoutId": "halves", "zoneIndex": 0}}
        Connector is the hardware port name (eDP-1, HDMI-1, DP-2, etc.)
      </description>
    </key>
    
    <key name="last-selected-layout" type="s">
      <default>"halves"</default>
      <summary>Most recently selected layout</summary>
      <description>
        Used as default for unconfigured spaces when per-space mode enabled.
        Also serves as fallback when a saved layout is deleted.
      </description>
    </key>
    
    <!-- Quick layout shortcuts (position-based, 1-9) -->
    <key name="quick-layout-1" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;1']</default>
      <summary>Activate first layout</summary>
      <description>Activate the first layout in display order.</description>
    </key>
    
    <key name="quick-layout-2" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;2']</default>
      <summary>Activate second layout</summary>
      <description>Activate the second layout in display order.</description>
    </key>
    
    <key name="quick-layout-3" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;3']</default>
      <summary>Activate third layout</summary>
      <description>Activate the third layout in display order.</description>
    </key>
    
    <key name="quick-layout-4" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;4']</default>
      <summary>Activate fourth layout</summary>
      <description>Activate the fourth layout in display order.</description>
    </key>
    
    <key name="quick-layout-5" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;5']</default>
      <summary>Activate fifth layout</summary>
      <description>Activate the fifth layout in display order.</description>
    </key>
    
    <key name="quick-layout-6" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;6']</default>
      <summary>Activate sixth layout</summary>
      <description>Activate the sixth layout in display order.</description>
    </key>
    
    <key name="quick-layout-7" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;7']</default>
      <summary>Activate seventh layout</summary>
      <description>Activate the seventh layout in display order.</description>
    </key>
    
    <key name="quick-layout-8" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;8']</default>
      <summary>Activate eighth layout</summary>
      <description>Activate the eighth layout in display order.</description>
    </key>
    
    <key name="quick-layout-9" type="as">
      <default>['&lt;Super&gt;&lt;Ctrl&gt;&lt;Alt&gt;9']</default>
      <summary>Activate ninth layout</summary>
      <description>Activate the ninth layout in display order.</description>
    </key>
    
    <!-- Debug Settings -->
    <key name="debug-layout-rects" type="b">
      <default>false</default>
      <summary>Show debug layout rectangles</summary>
      <description>
        When enabled, shows colored debug borders around all layout elements 
        in the layout switcher dialog to help visualize layout issues.
        Red=container, Blue=section, Green=row, Yellow=card, Magenta=spacer.
      </description>
    </key>
    
    <key name="debug-layout-overlay" type="b">
      <default>false</default>
      <summary>Show debug measurement overlay</summary>
      <description>
        When enabled, shows a debug overlay with calculated dimensions,
        tier information, and validation results for layout debugging.
      </description>
    </key>
    
    <key name="option-force-tier" type="i">
      <default>0</default>
      <range min="0" max="5"/>
      <summary>Force specific layout tier</summary>
      <description>
        Override automatic tier selection for testing. 
        0=auto (default), 1=tiny, 2=small, 3=medium, 4=large, 5=xlarge.
        Use Ctrl+T in layout switcher to cycle through tiers.
      </description>
    </key>
    
    <!-- Keybinding Conflict Detection -->
    <key name="keybinding-conflict-count" type="i">
      <default>0</default>
      <summary>Number of keybinding conflicts</summary>
      <description>
        Used for signaling between preferences and extension when conflicts change.
        Updated by prefs.js after any shortcut change, watched by extension to update panel icon.
      </description>
    </key>
    
    <key name="prefs-scroll-target" type="s">
      <default>""</default>
      <summary>Preferences scroll target</summary>
      <description>
        When set, preferences window will scroll to and highlight this section on open.
        Values: "keyboard-shortcuts", "enhanced-shortcuts", or empty string.
        Reset to empty after use.
      </description>
    </key>
    
    <key name="prefs-close-requested" type="b">
      <default>false</default>
      <summary>Request preferences window to close</summary>
      <description>
        When set to true by extension, preferences window should close itself.
        Used when panel menu fixes conflicts while prefs is open.
        Prefs resets this to false after closing.
      </description>
    </key>
    
  </schema>
</schemalist>
